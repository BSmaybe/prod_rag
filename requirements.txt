# --- System / Hardware Optimization ---
# Важно: эта строка гарантирует установку PyTorch ТОЛЬКО для CPU (экономит ~800МБ)
--index-url https://download.pytorch.org/whl/cpu
--extra-index-url https://pypi.org/simple

# --- Core API Framework ---
# FastAPI 0.128.0+ исправляет баги с алиасами и улучшает трейсбеки [1, 2]
fastapi[standard]>=0.128.0
# Pydantic 2.10+ для строгой валидации (Rust-core) [3, 4]
pydantic>=2.10.0
pydantic-settings>=2.0.0
# Сервер приложений (включен в fastapi[standard], но можно зафиксировать)
uvicorn>=0.30.6

# --- ML & RAG Engine (CPU Optimized) ---
# Sentence Transformers 5.2.2+ поддерживает Static Embeddings (x100 скорость) [5, 6]
sentence-transformers>=5.2.2
# PyTorch для CPU (версия 2.4.1 стабильна для transformers 4.44+) [7, 8]
torch>=2.4.1
# Transformers обновлен для поддержки новых архитектур [9]
transformers>=4.44.2
# Ускорение загрузки моделей (Zero-copy)
safetensors>=0.4.5
# Токенизаторы на Rust (критично для скорости)
tokenizers>=0.19.1

# --- Vector Database ---
# Qdrant Client 1.16.2+ добавляет встроенный гибридный поиск (BM25) [10, 11]
qdrant-client>=1.16.2
# gRPC для быстрого общения с базой данных [12]
grpcio>=1.66.2

# --- Performance Extensions (Optional but Recommended) ---
# Для квантования и ускорения моделей на CPU (ONNX Runtime) [13, 14]
optimum>=1.20.0
onnxruntime>=1.18.0

# --- Utilities & Clients ---
httpx>=0.27.2
python-dotenv>=1.0.0  # Для загрузки .env переменных [15]
numpy<2.0.0           # Фиксация до 2.0 важна для совместимости многих ML-библиотек [16]
scikit-learn>=1.5.2   # Для реранкинга и метрик [17]
